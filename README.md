
# Recreates SpliceBERT Results and Runs Small Scale SimCSP

## TODO: 
- revert code to SpliceBERT style 10-fold splitting 
- select a best hyper-parameter suite for benchmarking
- fully train on same split used by SpliceBERT 
- benchmark both and record results 

## EXPERIMENTS: 
- 1: relationship between f1/sccs in pretrain and fine-tune and its affects on F1 score 
    - uses the last layer's [CLS] token 
    - uses SpliceBERT-human, evaluated using f1/sccs on spliceator and NMI on hg19
    - could be improved by using SpliceBERT and NMI on spliceator 
- 2 - hyperparameter search over pre-train w/ SCCS validation
- 3: experiment with chopping off k layers and doing CL + fine-tune on that

## METRICS:
- SCCS : spearman correlation w/ cosine similarity 
- NMI : normalized mutual information 
- F1 : linear combination of precision and recall

## COMPUTE QUEUE:
- final model


## NOTES: 
- cite UMAP and leiden algorithm + give more explanation on generation
- hrg uses hg38 and umap plotting uses hg19 but K562 uses hg38 so can only be used w/ msg
    - if pre-training on msg then should use spliceator test set for NMI evaluation
- spliceator num_samples 44,152
- until SpliceBERT-human MLM is implemented correctly, might be learning from hrg during CL 
- view log files generated by tf: 
    - download log.tf file to runs on mac 
    - use bash run.sh to initialize docker container from terminal
    - use terminal inside of docker desktop to run following command : tensorboard --logdir=runs --host 0.0.0.0
    - use link in chrome browser and adjust  2nd number to 6.0.0.6 to view logs

## EXPERIMENTAL PIPELINE:
- pretrain.sh
- finetune.sh

## KNOWN IMPROVEMENTS: 
- bigger model
- more diverse training data
- use middle transformer layers 
- use mean pooling across some linear combination of hidden layers 

## IDEAS: 
- experiment with training the classification head with frozen transformer layers first
- use a splice site location tool to generate a better MLM training set (or microsoft paper idea)
- use a MLM and CL loss function together during pre-train
- explore Sup. CL
